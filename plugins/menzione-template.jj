const handler = async (m, { conn }) => {
    
  // Controlla se il messaggio Ã¨ inviato dal bot stesso
  if (m.key.fromMe) return;

  // Controlla se il bot Ã¨ menzionato
  const isBotMentioned = m.mentionedJid && m.mentionedJid.includes(conn.user.jid);
  
  // Controlla se il messaggio Ã¨ una risposta al bot
  const isReplyToBot = m.quoted && m.quoted.fromMe;

  // Controlla se il bot Ã¨ taggato in un gruppo
  const isTaggedInGroup = m.isGroup && isBotMentioned;

  // Se il bot non Ã¨ menzionato, non Ã¨ una risposta a un suo messaggio, e non Ã¨ taggato in un gruppo, ignora
  if (!isBotMentioned && !isReplyToBot && !isTaggedInGroup) return;
  // Array di frasi casuali
  const responses = [
    "Zitta tu",
    "Complimenti, hai detto una delle cose meno sensate di oggi!ğŸ‘",
    "Il premio 'maestro della banalitÃ ' Ã¨ tuo! ğŸ‰",
    "Wow, sei proprio un alpha per dirmi di stare zittaâ™‚ï¸",
    "Ogni volta che parli, un neurone muore. ğŸ’€",
    "Ti prego, salva l'umanitÃ  e smettila di parlare. ğŸ™",
    "Prendiamo la tua opinione con le pinze e la buttiamo nell'indifferenziato ğŸ—‘ï¸",
    "Parli piÃ¹ tu che il meteo in TV. ğŸŒ¦ï¸",
    "'Zitta' Sei cosÃ¬ scontato che ti vendono nei saldi. ğŸ›’",
    "Mi chiedo come sarebbe il mondo se smettessi di parlare... forse migliore? ğŸ¤”",
    "Frustrato di merda",
    "Zitta che sei la mia puttana"
  ];

  // Sceglie una risposta casuale
  const randomResponse = responses[Math.floor(Math.random() * responses.length)];

  // Risponde al messaggio
  m.reply(randomResponse.trim(), null, { mentions: [m.sender] });
};

// Configurazione del comando
handler.customPrefix = /zitta/i; // Attivazione solo se contiene "zitta"
handler.command = new RegExp; // Nessun prefisso, si attiva leggendo i messaggi

export default handler;
